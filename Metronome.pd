#N canvas 639 66 1280 965 10;
#N canvas 1921 28 1278 972 metro 0;
#X obj 488 238 t b f;
#X obj 488 295 /;
#X msg 488 269 1;
#X floatatom 504 318 14 0 0 0 - - -, f 14;
#X floatatom 504 188 5 0 0 0 - - -, f 5;
#X obj 488 160 / 60;
#X obj 488 359 * 1000;
#X obj 488 390 s DureePuls;
#X text 517 160 Number of beats per second (Hz);
#X text 517 295 Duration of a beat (s);
#X text 531 359 Duration of a beat (ms);
#X text 864 428 init value is 60 bpm;
#X text 539 75 Actual tempo (BPM);
#X obj 488 76 r Tempo;
#X floatatom 488 98 5 0 0 0 - - -, f 5;
#X obj 138 232 s Tempo;
#X obj 163 112 r TempoPreset;
#X obj 115 159 i;
#X obj 115 108 r t;
#X obj 856 44 r DureePuls;
#X obj 856 204 /;
#X obj 856 236 s DureeSubdiv;
#X obj 798 428 metro 1000;
#X obj 798 385 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 1 1;
#X obj 832 523 s BANG_subdiv;
#X obj 887 169 t b f;
#X obj 798 608 i;
#X obj 830 608 + 1;
#X obj 812 562 loadbang;
#X msg 812 584 0;
#X obj 798 679 mod;
#X obj 798 711 sel 0;
#X obj 798 736 s BANG;
#X obj 798 360 r OnOff;
#X text 481 43 BEATS;
#X obj 855 391 r DureeSubdiv;
#X obj 827 646 r subdivision;
#X obj 887 134 r subdivision;
#X obj 832 496 spigot;
#X obj 865 470 r SubdivOnOff;
#X text 795 339 METRO;
#X text 868 17 SUBDIVISION;
#X obj 194 628 r IncTempo;
#X obj 194 706 + 1;
#X obj 208 653 r Tempo;
#X obj 194 731 s Tempo;
#X obj 194 681 f, f 2;
#X obj 300 655 r Tempo;
#X obj 286 733 s Tempo;
#X obj 286 683 f, f 2;
#X obj 286 629 r DecTempo;
#X obj 286 708 - 1;
#X connect 0 0 2 0;
#X connect 0 1 1 1;
#X connect 1 0 3 0;
#X connect 1 0 6 0;
#X connect 2 0 1 0;
#X connect 5 0 0 0;
#X connect 5 0 4 0;
#X connect 6 0 7 0;
#X connect 13 0 14 0;
#X connect 14 0 5 0;
#X connect 16 0 15 0;
#X connect 17 0 15 0;
#X connect 18 0 17 0;
#X connect 19 0 20 0;
#X connect 20 0 21 0;
#X connect 22 0 26 0;
#X connect 22 0 38 0;
#X connect 23 0 22 0;
#X connect 25 0 20 0;
#X connect 25 1 20 1;
#X connect 26 0 27 0;
#X connect 26 0 30 0;
#X connect 27 0 26 1;
#X connect 28 0 29 0;
#X connect 29 0 26 1;
#X connect 30 0 31 0;
#X connect 31 0 32 0;
#X connect 33 0 23 0;
#X connect 35 0 22 1;
#X connect 36 0 30 1;
#X connect 37 0 25 0;
#X connect 38 0 24 0;
#X connect 39 0 38 1;
#X connect 42 0 46 0;
#X connect 43 0 45 0;
#X connect 44 0 46 1;
#X connect 46 0 43 0;
#X connect 47 0 49 1;
#X connect 49 0 51 0;
#X connect 50 0 49 0;
#X connect 51 0 48 0;
#X restore 268 14 pd metro;
#X obj 34 137 vsl 15 128 20 280 0 0 empty empty empty 0 -9 0 10 #e0e420
#3c8c0c #000000 4000 1;
#X text 5 8 On/off with Space key;
#X text 4 26 Increase tempo with + key;
#X text 4 43 Decrease tempo with - key;
#X text 67 147 1 - lento;
#X text 67 161 2 - adagio;
#X text 67 175 3 - moderato;
#X text 67 189 4 - allegro;
#X text 67 202 5 - presto;
#X obj 228 394 s NbBeatsPerBar;
#X obj 228 132 vradio 15 0 0 15 empty empty empty 0 -8 0 10 #e0e420
#3c8c0c #000000 3;
#X obj 228 369 + 1;
#X text 244 131 1;
#X text 244 146 2;
#X text 244 162 3;
#X text 244 177 4;
#X text 244 192 5;
#X text 244 207 6;
#X text 244 221 7;
#X text 244 236 8;
#X text 244 252 9;
#X text 243 266 10;
#X text 243 280 11;
#X text 243 295 12;
#X text 244 311 13;
#X text 244 326 14;
#X text 244 341 15;
#X obj 173 131 loadbang;
#X msg 173 153 3;
#X text 42 106 SET TEMPO;
#X text 199 103 SET NUMBER OF BEATS PER BAR;
#X obj 79 635 hradio 60 0 0 4 empty empty empty 0 -8 0 10 #e0e420 #a80c0c
#000000 1;
#X obj 79 532 r NbBeatsPerBar;
#X msg 79 556 number \$1;
#X obj 103 587 r CurrentBeatNb;
#X obj 103 608 - 1;
#X obj 34 276 s t;
#X obj 62 255 r Tempo;
#X floatatom 62 277 14 0 0 0 - - -, f 14;
#X obj 79 635 bng 60 250 50 0 empty empty empty 17 7 0 10 #ece098 #2014e4
#000000;
#X obj 130 608 sel 1;
#X obj 489 335 s subdivision;
#X obj 489 167 vradio 15 0 0 9 empty empty empty 0 -8 0 10 #e0e420
#3c8c0c #000000 1;
#X text 505 167 2;
#X text 505 183 3;
#X text 505 198 4;
#X text 506 213 5;
#X text 506 228 6;
#X text 506 242 7;
#X obj 429 166 loadbang;
#X text 434 105 SET SUBDIVISION OF BEAT;
#X obj 566 154 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 1 1;
#X obj 566 174 s SubdivOnOff;
#X obj 489 311 + 2;
#X text 506 256 8;
#X text 506 271 9;
#X text 506 285 10;
#X msg 429 188 0;
#X floatatom 33 620 5 0 0 0 - - -, f 5;
#N canvas 640 66 1280 965 audio 0;
#X floatatom 421 30 5 0 0 0 - - -, f 5;
#X msg 421 6 50;
#X obj 289 414 t b b;
#X msg 486 583 0 10;
#X obj 474 269 prepend set;
#X msg 488 329 10;
#X msg 581 583 1 10;
#X obj 474 297 t b a;
#X obj 474 226 / 5;
#X obj 486 646 line~;
#X obj 353 757 *~;
#X obj 289 463 delay;
#X obj 317 269 expr ($f1 - 2*$f2);
#X floatatom 489 193 5 0 0 0 - - -, f 5;
#X obj 130 639 osc~ 800;
#X obj 289 385 r BANG;
#X obj 488 351 prepend set 0;
#X obj 583 351 prepend set 1;
#X text 623 582 on;
#X text 514 582 off;
#X obj 421 136 min;
#X floatatom 426 159 5 0 0 0 - - -, f 5;
#X obj 459 66 r DureePuls;
#X obj 421 -43 loadbang;
#X text 418 -14 beep duration (ms);
#X text 68 135 this box just to make sure beep is not longer than beat...
;
#X text 268 289 duration - duration of ramps;
#X text 481 247 ramp duration (ms);
#X text 96 205 ramp = on/off for sounds;
#X text 215 484 Send "on" rightaway \; then "off";
#X text 160 376 this guy comes from parent patch;
#X floatatom 336 327 5 0 0 0 - - -, f 5;
#X obj 459 90 t b f;
#X obj 1385 408 r NbBeatsPerBar;
#X obj 1346 263 r BANG;
#X obj 1346 340 i;
#X obj 1378 340 + 1;
#X msg 1360 316 1;
#X obj 1346 457 mod;
#X obj 1346 479 + 1;
#X obj 1360 513 s CurrentBeatNb;
#X obj 1360 291 loadbang;
#X obj 130 606 r f_PrimaryBeep;
#X obj 1346 574 sel 1, f 7;
#X text 1182 68 freq of secondary beats;
#X obj 292 644 osc~ 300;
#X obj 130 668 spigot~, f 14;
#X obj 292 671 spigot~;
#X obj 256 576 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#X obj 1346 668 s isitfirstbeat;
#X obj 256 554 r isitfirstbeat;
#X msg 1385 548 1;
#X msg 1346 618 1;
#X msg 1385 618 0;
#X text 1010 55 freq of 1st beat;
#X obj 313 611 r f_SecondaryBeep;
#X obj 1036 133 s f_PrimaryBeep;
#X obj 1060 79 loadbang;
#X msg 1060 101 800;
#X msg 1014 79;
#X floatatom 1014 101 5 0 0 0 - - -, f 5;
#X obj 1261 89 loadbang;
#X msg 1215 89;
#X floatatom 1215 111 5 0 0 0 - - -, f 5;
#X msg 1261 111 300;
#X obj 1237 143 s f_SecondaryBeep;
#N canvas 320 66 1280 965 subdiv 0;
#X floatatom 429 -871 5 0 0 0 - - -, f 5;
#X msg 429 -895 50;
#X obj 297 -487 t b b;
#X obj 482 -632 prepend set;
#X msg 496 -572 10;
#X msg 589 -318 1 10;
#X obj 482 -604 t b a;
#X obj 482 -675 / 5;
#X obj 494 -255 line~;
#X obj 361 -144 *~;
#X obj 297 -438 delay;
#X obj 325 -632 expr ($f1 - 2*$f2);
#X floatatom 497 -708 5 0 0 0 - - -, f 5;
#X obj 496 -550 prepend set 0;
#X obj 591 -550 prepend set 1;
#X text 631 -301 on;
#X text 522 -301 off;
#X obj 429 -765 min;
#X floatatom 434 -742 5 0 0 0 - - -, f 5;
#X text 426 -915 beep duration (ms);
#X text 76 -766 this box just to make sure beep is not longer than
beat...;
#X text 276 -612 duration - duration of ramps;
#X text 489 -654 ramp duration (ms);
#X floatatom 344 -574 5 0 0 0 - - -, f 5;
#X obj 467 -811 t b f;
#X obj 370 -895 loadbang;
#X obj 490 -865 r DureeSubdiv;
#X obj 300 -301 r f_SubdivBeep;
#X obj 297 -516 r BANG_subdiv;
#X floatatom 506 -835 5 0 0 0 - - -, f 5;
#X obj 820 -725 loadbang;
#X msg 774 -725;
#X floatatom 774 -703 5 0 0 0 - - -, f 5;
#X text 770 -749 freq of subdivision beat;
#X obj 796 -671 s f_SubdivBeep;
#X obj 300 -256 osc~ 600;
#X msg 820 -703 700;
#X msg 494 -318 0 10;
#X obj 361 -68 outlet~;
#X connect 0 0 17 0;
#X connect 1 0 0 0;
#X connect 2 0 10 0;
#X connect 2 1 5 0;
#X connect 3 0 6 0;
#X connect 4 0 13 0;
#X connect 4 0 14 0;
#X connect 5 0 8 0;
#X connect 6 0 4 0;
#X connect 6 1 4 0;
#X connect 7 0 3 0;
#X connect 7 0 11 1;
#X connect 8 0 9 1;
#X connect 9 0 38 0;
#X connect 10 0 37 0;
#X connect 11 0 10 1;
#X connect 11 0 23 0;
#X connect 12 0 7 1;
#X connect 13 0 37 0;
#X connect 14 0 5 0;
#X connect 17 0 7 0;
#X connect 17 0 11 0;
#X connect 17 0 18 0;
#X connect 24 0 17 0;
#X connect 24 1 17 1;
#X connect 25 0 1 0;
#X connect 26 0 24 0;
#X connect 26 0 29 0;
#X connect 27 0 35 0;
#X connect 28 0 2 0;
#X connect 30 0 36 0;
#X connect 31 0 32 0;
#X connect 32 0 34 0;
#X connect 35 0 9 0;
#X connect 36 0 34 0;
#X connect 37 0 8 0;
#X restore 423 849 pd subdiv;
#X obj 392 784 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 1 1;
#X obj 420 783 r SoundOnOff;
#X obj 353 811 spigot~;
#X obj 423 885 s~ ToAudioOut;
#X connect 0 0 20 0;
#X connect 1 0 0 0;
#X connect 2 0 11 0;
#X connect 2 1 6 0;
#X connect 3 0 9 0;
#X connect 4 0 7 0;
#X connect 5 0 16 0;
#X connect 5 0 17 0;
#X connect 6 0 9 0;
#X connect 7 0 5 0;
#X connect 7 1 5 0;
#X connect 8 0 4 0;
#X connect 8 0 12 1;
#X connect 9 0 10 1;
#X connect 10 0 69 0;
#X connect 11 0 3 0;
#X connect 12 0 11 1;
#X connect 12 0 31 0;
#X connect 13 0 8 1;
#X connect 14 0 46 0;
#X connect 15 0 2 0;
#X connect 16 0 3 0;
#X connect 17 0 6 0;
#X connect 20 0 8 0;
#X connect 20 0 12 0;
#X connect 20 0 21 0;
#X connect 22 0 32 0;
#X connect 23 0 1 0;
#X connect 32 0 20 0;
#X connect 32 1 20 1;
#X connect 33 0 38 1;
#X connect 34 0 35 0;
#X connect 35 0 36 0;
#X connect 35 0 38 0;
#X connect 36 0 35 1;
#X connect 37 0 35 1;
#X connect 38 0 39 0;
#X connect 39 0 40 0;
#X connect 39 0 43 0;
#X connect 41 0 37 0;
#X connect 42 0 14 0;
#X connect 43 0 52 0;
#X connect 43 1 53 0;
#X connect 45 0 47 0;
#X connect 46 1 10 0;
#X connect 47 0 10 0;
#X connect 48 0 46 1;
#X connect 48 0 47 1;
#X connect 50 0 48 0;
#X connect 51 0 43 1;
#X connect 52 0 49 0;
#X connect 53 0 49 0;
#X connect 55 0 45 0;
#X connect 57 0 58 0;
#X connect 58 0 56 0;
#X connect 59 0 60 0;
#X connect 60 0 56 0;
#X connect 61 0 64 0;
#X connect 62 0 63 0;
#X connect 63 0 65 0;
#X connect 64 0 65 0;
#X connect 66 0 70 0;
#X connect 67 0 69 1;
#X connect 68 0 67 0;
#X connect 69 1 70 0;
#X restore 268 -8 pd audio;
#N canvas 0 52 1920 981 controls 0;
#X obj 134 -142 keyname;
#X text 156 116 On/off with Space key;
#X symbolatom 70 -47 10 0 0 0 - - -, f 10;
#X obj 163 92 s OnOff;
#X obj 136 -93 spigot;
#X obj 193 70 s IncTempo;
#X obj 224 48 s DecTempo;
#X text 155 134 Increase tempo with + key;
#X text 155 151 Decrease tempo with - key;
#X obj 255 27 s SoundOnOff;
#X text 154 167 Sound on/off with Ctrl key;
#X text 392 35 Tempo presets are controlled with keys 1-5;
#X floatatom 191 -107 5 0 0 0 - - -, f 5;
#X obj 399 -132 key;
#X obj 399 -100 sel 49 50 51 52 53;
#X text 514 -102 ascii code;
#X text 123 -169 This selects symbols;
#X text 380 -156 This selects numbers;
#X obj 399 9 s lento;
#X obj 420 -11 s adagio;
#X obj 441 -31 s moderato;
#X obj 462 -51 s allegro;
#X obj 483 -71 s presto;
#X obj 255 3 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000
1 1;
#X obj 163 -23 sel Space + - s, f 21;
#X obj 163 20 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 1 1;
#X obj 98 -106 print;
#X connect 0 0 4 1;
#X connect 0 1 4 0;
#X connect 0 1 12 0;
#X connect 4 0 2 0;
#X connect 4 0 24 0;
#X connect 13 0 14 0;
#X connect 14 0 18 0;
#X connect 14 1 19 0;
#X connect 14 2 20 0;
#X connect 14 3 21 0;
#X connect 14 4 22 0;
#X connect 23 0 9 0;
#X connect 24 0 25 0;
#X connect 24 1 5 0;
#X connect 24 2 6 0;
#X connect 24 3 23 0;
#X connect 25 0 3 0;
#X restore 268 36 pd controls;
#N canvas 0 0 450 300 presets 0;
#X obj 117 187 s TempoPreset;
#X msg 124 77 60;
#X msg 124 99 88;
#X text 149 97 moderato;
#X msg 124 121 112;
#X text 149 120 allegro;
#X msg 124 56 52;
#X text 149 56 lento;
#X text 149 77 adagio;
#X msg 124 142 140;
#X text 150 141 presto;
#X text 112 37 Presets;
#X obj 75 54 r lento;
#X obj 65 75 r adagio;
#X obj 55 100 r moderato;
#X obj 55 122 r allegro;
#X obj 63 144 r presto;
#X obj 253 66 loadbang;
#X obj 253 88 s moderato;
#X connect 1 0 0 0;
#X connect 2 0 0 0;
#X connect 4 0 0 0;
#X connect 6 0 0 0;
#X connect 9 0 0 0;
#X connect 12 0 6 0;
#X connect 13 0 1 0;
#X connect 14 0 2 0;
#X connect 15 0 4 0;
#X connect 16 0 9 0;
#X connect 17 0 18 0;
#X restore 268 59 pd presets;
#X text 3 59 Sound on/off with s key;
#X text 582 154 audio;
#X obj 681 500 r~ ToAudioOut;
#X obj 681 585 /~ 2;
#X obj 681 610 dac~;
#X obj 761 419 r SubdivOnOff;
#X obj 761 444 sel 0 1, f 10;
#X msg 761 480 2;
#X msg 789 480 3;
#X connect 1 0 37 0;
#X connect 11 0 12 0;
#X connect 12 0 10 0;
#X connect 28 0 29 0;
#X connect 29 0 11 0;
#X connect 33 0 34 0;
#X connect 34 0 32 0;
#X connect 35 0 36 0;
#X connect 35 0 41 0;
#X connect 35 0 59 0;
#X connect 36 0 32 0;
#X connect 38 0 39 0;
#X connect 41 0 40 0;
#X connect 43 0 54 0;
#X connect 50 0 58 0;
#X connect 52 0 53 0;
#X connect 54 0 42 0;
#X connect 58 0 43 0;
#X connect 65 0 66 0;
#X connect 66 0 67 0;
#X connect 68 0 69 0;
#X connect 69 0 70 0;
#X connect 69 1 71 0;
#X connect 70 0 66 1;
#X connect 71 0 66 1;
